---
sidebar: sidebar 
permalink: ontap991fo_data_protection_enhancements.html 
keywords: replication, failover, disaster recovery, dr, synchronous, backup, archive 
summary: このドキュメントでは、データ保護とサイトインフラのフェイルオーバーの自動化という概念の両方を指しています。このセクションでは、 ONTAP 9.9..1 のデータ保護に関する最新の機能拡張について説明します。 
---
= データ保護の機能拡張


このドキュメントでは、データ保護とサイトインフラのフェイルオーバーの自動化という概念の両方を指しています。このセクションでは、 ONTAP 9.9..1 のデータ保護に関する最新の機能拡張について説明します。



== SnapMirror のビジネス継続性機能を使用して、 SAN のアプリケーションを透過的にフェイルオーバー

NetApp SnapMirror は、以下のようなさまざまなユースケースに利用できる、業界をリードするレプリケーションテクノロジです。

* 災害復旧により、システム停止中のサイト・フェイルオーバーが迅速に実行され、プライマリへの迅速な再同期が可能になります
* 同期レプリケーション：リモートサイトにあるデータの最大 2 つ目のコピーを格納します
* バックアップとアーカイブのユースケース（ソースよりもデスティネーションの Snapshot コピー数が多い場合）


https://docs.netapp.com/us-en/ontap/smbc/["ONTAP における SnapMirror のビジネス継続性"^] SnapMirror の機能を拡張し、同期 SnapMirror 関係の高速かつ簡単な自動フェイルオーバーを実現して、アプリケーションレベルできめ細かなデータ保護を実現します。

SnapMirror のビジネス継続性機能を使用すると、メディエーターを使用してサイト間のクォーラムを維持し、サイトで障害が発生した場合にスプリットブレインの状況を回避できます。ONTAP メディエーターの新しいソフトウェアバージョン（ 1.2 ）が見積もり可能になりました。 ONTAP システムは最大 10 個までサポートされ、サイト間のアプリケーションのスイッチオーバーは 120 秒以内に自動化されます。

image:ontap991fo_image11.png["エラー：グラフィックイメージがありません"]



== IP 経由の MetroCluster

NetApp MetroCluster （ MC ）ソフトウェアは、アレイベースのクラスタリングと同期レプリケーションを組み合わせた解決策であり、最小限のコストで継続的可用性を実現し、データ損失をゼロに抑えます。アレイベースのクラスタの管理は、ホストベースのクラスタリングに通常見られる依存関係や複雑さが解消されているため、よりシンプルです。

image:ontap991fo_image12.png["エラー：グラフィックイメージがありません"]

MetroCluster は、ミッションクリティカルなデータをトランザクション単位で瞬時に複製し、アプリケーションやデータへの中断のないアクセスを実現します。MetroCluster は、標準的なデータレプリケーションソリューションとは異なり、ホスト環境とシームレスに連携して継続的なデータ可用性を実現します。複雑なフェイルオーバースクリプトを作成して管理する必要はありません。

MetroCluster では、次のタスクを実行できます。

* 透過的なスイッチオーバーにより、ハードウェア、ネットワーク、またはサイトの障害から保護します
* 計画的停止と計画外停止、および変更管理を排除します
* 稼働を中断せずにハードウェアとソフトウェアをアップグレードできます
* 複雑なスクリプト作成、アプリケーション、オペレーティングシステムの依存関係を必要とせずに導入できます
* VMware 、 Microsoft 、 Oracle 、 SAP 、その他の重要なアプリケーションの継続的可用性を実現


NetApp MetroCluster は従来、 Fibre Channel バックエンドに実装されていましたが、より新しいバージョンの ONTAP ではバックエンドに IP ネットワークを使用することができます。これにより、サイトフェイルオーバーインフラのコストと複雑さが軽減されるだけでなく、 MetroCluster の範囲が約 700km （ 300mi ）にまで拡大されます。

ONTAP 9.9.1 では、 MetroCluster が次のように進化しています。

* HA ペアあたりのボリューム数を 1 、 600 に増やすことができます
* 共有レイヤ 3 ネットワーク
+
** 専用のレイヤ 2 ネットワークに依存しなくなりました
** ONTAP はルータに直接接続されている必要があります
** ダイナミックルーティングはサポートされません


* サイトあたりのノード数の増加（サイトあたり 4 つ、クラスタあたり 8 つ）




=== MetroCluster と SnapMirror によるビジネス継続性の比較

MetroCluster と SnapMirror のビジネス継続性機能は同じ機能セットの一部を共有しているため（既存の IP ネットワーク、自動フェイルオーバー、同期レプリケーションを利用できます）、「各機能をいつ使用するか」という問題がより重要になります。

回答は、次の質問に応じて異なります。

* サービスレベル目標は何ですか？
* フェイルオーバーの細分性をどの程度にしますか？


MetroCluster は、 HA ペアと物理アグリゲートのインフラフェイルオーバーの自動化を実現し、 SAN と NAS のワークロードをサポートします。また、 SnapMirror のビジネス継続性機能は、 SAN ワークロードに対してのみアプリケーションレベルの細分性を提供します。

MetroCluster over IP の詳細については、を参照してください https://www.netapp.com/pdf.html?item=/media/13481-tr4689pdf.pdf["MetroCluster IP 解決策のアーキテクチャと設計"^]。

SnapMirror のビジネス継続性機能の詳細については、を参照してください https://docs.netapp.com/us-en/ontap/smbc/["ONTAP における SnapMirror のビジネス継続性"^]。



== FlexGroup ボリュームのデータ保護

FlexGroup ボリュームは、 NetApp ONTAP スケールアウト NAS 解決策で、最大 20PB 、 4 、 000 億個のファイルを単一のネームスペースで提供します。また、取り込み負荷の高いワークロードに対して自動的に負荷分散された並行処理を実行し、容量、パフォーマンス、シンプルさを組み合わせて処理します。

image:ontap991fo_image13.png["エラー：グラフィックイメージがありません"]

FlexGroup ボリュームの詳細については、を参照してください https://www.netapp.com/us/media/tr-4571.pdf["TR-4571 ：『 NetApp FlexGroup Volumes Best Practices 』"^]。

ONTAP 9.9.9..1 では、 FlexGroup ボリュームでさまざまなデータ保護設定がサポートされます。



=== カスケード SnapMirror とファンアウト SnapMirror

SnapMirror カスケードを使用すると、ストレージ管理者は、シリアルを使用して複数のサイトにレプリケートできます。たとえば、サイト A はサイト B （オンプレミスまたはクラウド）にレプリケートでき、サイト B は同じボリュームをサイト C （オンプレミスまたはクラウド）にレプリケートできます。

image:ontap991fo_image14.png["エラー：グラフィックイメージがありません"]

SnapMirror のファンアウトでは、ソースボリュームから複数のデスティネーションボリュームにレプリケートできます。そのため、サイト A はソース FlexGroup をサイト B とサイト C （オンプレミスまたはクラウド）にレプリケートできます。これにより、データ保護設定の柔軟性と耐障害性が向上します。

image:ontap991fo_image15.png["エラー：グラフィックイメージがありません"]



=== SVM ディザスタリカバリ（ SVM-DR ）

SVM-DR は ONTAP の機能で、リモートサイトへのデータボリュームだけでなく、 CIFS 共有、 NFS エクスポート、データ LIF 、さらには NFS ファイルハンドルなどの SVM 設定の詳細もレプリケートして、 DR サイトへのフェイルオーバー時に再マウントされないようにすることができます。

image:ontap991fo_image16.png["エラー：グラフィックイメージがありません"]

ONTAP 9.9.1 では、 FlexGroup ボリュームで SVM-DR のサポートが提供されますが、次の制限事項があります。

* FabricPool はサポートされません
* FlexClone なし
* SnapMirror のファンアウトはなし
* FlexVol 変換なし、ベースラインを再設定してください




== SnapLock の機能拡張

https://www.netapp.com/data-protection/ontap-security/snaplock-compliance/["NetApp SnapLock"^] は、ネットアップの WORM コンプライアンスレプリケーション解決策です。HIPAA 、 SEC 17a-4 （ f ）ルール、 FINRA 、 CFTC などの規制ガイドラインに準拠する必要があるワークロードや、ドイツ語圏の国家規制（ DACH ）に準拠したデータ保護を提供します。

SnapLock は、データの整合性と保持を実現し、電子記録を改ざんすることなく迅速にアクセスできるようにします。SnapLock の保持機能は、厳しい記録保持要件を満たすことが認定されているほか、リーガルホールド、イベントベースの保持、ボリュームアペンドモードなど、保持要件の拡張にも対応します。

ONTAP 9.9.1 では、ネットアップの SnapLock が次の点で改善されました。

* https://docs.netapp.com/ontap-9/index.jsp?topic=%2Fcom.netapp.doc.dot-cm-concepts%2FGUID-8A8108CF-499A-46FC-917F-A40FAD68C8D6.html["ストレージ効率"^] WORM ボリュームでのサポートデータコンパクション、ボリューム間 / アグリゲートレベルの重複排除（ AFF のみ）、連続セグメントクリーニング、温度に影響する Storage Efficiency をサポートしています。
* ランサムウェア攻撃からの保護 LUN の Snapshot コピーを含む SnapLock ボリューム。 SnapLock の詳細については、を参照してください https://www.netapp.com/pdf.html?item=/media/6158-tr4526pdf.pdf["NetApp SnapLock を使用して WORM ストレージに準拠"^]。


SnapLock の詳細については、を参照してください https://www.netapp.com/pdf.html?item=/media/6158-tr4526pdf.pdf["NetApp SnapLock を使用して WORM ストレージに準拠"^]。
