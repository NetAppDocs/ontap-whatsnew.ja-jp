---
sidebar: sidebar 
permalink: ontap98fo_simplicity_enhancements.html 
keywords: System Manager, Health, Alerts, Capacity Views, Network Visualization, Performance Views, File System Analytics, FSA, Active NFS Clients, upgrade 
summary: このページでは、 ONTAP 9.8 の機能強化について説明します。 ONTAP System Manager の更新、 ONTAP のアップグレードと機器更改に関する改良、 REST API の機能拡張など、よりシンプルな作業に役立ちます。 
---
= 簡易性の強化
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ./media/


このセクションでは、 ONTAP 9.8 の機能強化について説明します。これには次のものが含まれます。

* ONTAP System Manager が更新されます
* ONTAP のアップグレードと機器更改に関する改良
* REST API の機能拡張




== System Manager の機能拡張

ONTAP 9.7 では、 System Manager GUI が大幅に改良され、ストレージのプロビジョニングや日常的な運用といった ONTAP の基本的な処理の管理を管理者が簡易化することを意図しています。新しい GUI には、 ONTAP 9.6 で追加された REST API も利用されます。ONTAP 9.8 では、 System Manager のクラシックビューが削除されました。

インターフェイスの主な違いの 1 つは、ダッシュボードです。このダッシュボードは、 NetApp ONTAP System Manager に初めてログインしたときに表示される最初のページです。

次の図は、 System Manager の従来のダッシュボードと新しいバージョンの比較を示しています。

image:ontap98fo_image1.png["エラー：グラフィックイメージがありません"]

ここでは、大きな違いがいくつか見られます。



=== 健常性 / アラート

Classic System Manager に初めてログインすると、左上にクラスタとノードの障害のリストが表示されます。これらはクリック可能なリンクにまとめられています。いずれかのリンクをクリックすると、 System Manager の別のページにリダイレクトされます。

また、別の領域でクラスタ HA の状態を確認し、ノードがフェイルオーバーしたかどうかを確認しました。次の図では、ダッシュボードビューと、いずれかのリンクをクリックすると表示される内容を確認しています。この例では、ディスク障害が発生しています。

image:ontap98fo_image2.png["エラー：グラフィックイメージがありません"]

他のアラートを表示するには、ダッシュボードに戻る必要があります。ダッシュボードに戻ると時間がかかり、クリック回数が増えます。System Manager の新しいビューの目的の 1 つは、このプロセスを簡易化することです。

次の図は、新しい System Manager ダッシュボードを示しています。ヘルスビューとアラートビューには、 2 つの主な違いがあります。ノードの HA の状態とアラートが同じウィンドウに表示されるようになりました。メインのダッシュボードをクリックしなくても、アラートがドロップダウンボックスに表示されるようになりました。

image:ontap98fo_image3.png["エラー：グラフィックイメージがありません"]



=== 容量ビュー

容量を表示するために、クリック数も少なくなりました。従来の ONTAP システムマネージャでは、容量とストレージ容量削減比率がクラスタの概要に表示され、情報を確認するためのタブが表示されていました。新しい System Manager のビューには、ストレージ容量削減比率と容量のビューが 1 つの図に統合されています。


NOTE: 新しい UI は、使用済みの論理スペースと使用可能な物理スペースを利用します。

image:ontap98fo_image4.png["エラー：グラフィックイメージがありません"]

データ保護ビューは、 Protection の下の専用ダッシュボードに移動されました。このページでは、クラスタ内のデータ保護の詳細について詳しく説明するとともに、新しい SnapMirror のビジネス継続性（ SM-BC ）を利用できる場所についても説明します。

image:ontap98fo_image5.png["エラー：グラフィックイメージがありません"]



=== ネットワークの可視化

ONTAP System Manager 9.8 では、クラスタのネットワークトポロジを示す新しいネットワーク可視化ビューと、ポートがダウンしたときの赤い X が優先して、アプリケーションビューとオブジェクトビューも削除されます。

image:ontap98fo_image6.png["エラー：グラフィックイメージがありません"]



=== パフォーマンスビュー

System Manager のパフォーマンスデータグラフには最大 1 年分のデータが保持されるようになりました。従来の System Manager のパフォーマンスデータはログイン中のみ使用できます。ONTAP System Manager 9.8 では、時間、日、週、月、年をクリックできるようになりました。また、 CSV にパフォーマンスデータをダウンロードする方法もあります。

image:ontap98fo_image7.png["エラー：グラフィックイメージがありません"]



=== File System Analytics の略

ファイル数の多い環境でフォルダの容量、データの経過時間、およびファイル数に関する情報を探しようとすると、通常、時間がかかるコマンドやスクリプトを使用して、などのNASプロトコルでシリアル処理を実行する必要があります `ls`、 `du`、 `find`および `stat`。

ONTAP System Manager 9.8 を使用すると、管理者は各ボリュームに影響の少ないスキャナを使用して、 NAS ストレージボリュームのファイルシステム情報をすばやく簡単に見つけることができます。このスキャナは、優先度の低いジョブで ONTAP ファイルシステムをバックグラウンドでクロールし、 System Manager 9.8 以降でボリュームに移動するとすぐに使用できる情報を豊富に提供します。

File Systems Analytics は、スキャンするボリュームに移動するのと同じくらい簡単に有効にできます。[ ストレージ ] 、 [ ボリューム ] の順に移動し、検索を使用して目的のボリュームを検索します。ボリュームをクリックし、エクスプローラタブをクリックします。

ここから、ページの右側に [ 分析を有効にする ] リンクが表示されます。

image:ontap98fo_image8.png["エラー：グラフィックイメージがありません"]

[ 有効 ] をクリックすると、スキャナが起動します。完了までの時間は、ボリューム内のオブジェクト数およびシステムの負荷によって異なります。完了すると、ディレクトリ構造全体が System Manager のビューに表示されます。このビューにはディレクトリツリー内の移動方法があり、履歴情報、ディレクトリサイズ情報、およびファイルサイズが表示されます。

次の図は、クラスタ内の Tech_ONTAP ボリュームをアーカイブとして使用して表示したものです http://techontappodcast.com/["ネットアップの Tech OnTap ポッドキャストのエピソード"^]。

image:ontap98fo_image9.png["エラー：グラフィックイメージがありません"]

フォルダをクリックすると、ページの右側にファイルリストが表示されます。

image:ontap98fo_image10.png["エラー：グラフィックイメージがありません"]

「アクセス時間を表示」を有効にすると、ファイルが最後にアクセスされた時間を確認できます。

image:ontap98fo_image11.png["エラー：グラフィックイメージがありません"]

ページの下部には、 1 年間にアクセスされていないデータの量、およびそのフォルダ内のディレクトリとファイルの数が表示されます。

image:ontap98fo_image12.png["エラー：グラフィックイメージがありません"]

この機能では、ファイルサイズとディレクトリ情報を迅速に検出できるだけでなく、アグリゲートのスペースを消費するコールドデータの量を削減するうえでネットアップの FabricPool テクノロジが効果的かどうかを判断するための情報も提供されます。



=== アクティブな NFS クライアント

ONTAP 9.7では、クラスタ内の特定のボリュームにアクセスしていたNFSクライアントや、で使用されていたデータLIFのIPアドレスを確認する方法が導入されました `nfs connected-clients` コマンドを実行しますこのコマンドの詳細については、を参照してください https://www.netapp.com/us/media/tr-4067.pdf["TR-4067 ：『 NetApp ONTAP 8.1 Cluster-Mode 向け NFSv3 / v4 実装ガイド』"^]。このコマンドは、アップグレード、テクノロジの更新、シンプルなレポートなど、ストレージシステムに接続されているクライアントを確認する必要がある場合に役立ちます。

ONTAP System Manager 9.8 では、これらのクライアントを GUI で表示できるほか、リストを .csv ファイルにエクスポートできます。ホスト > NFS クライアントと進み、過去 48 時間にアクティブだった NFS クライアントのリストを表示します。

image:ontap98fo_image13.png["エラー：グラフィックイメージがありません"]



=== System Manager 9.8 のその他の機能強化

ONTAP 9.8 では、 System Manager の次の機能も拡張されています。

|===
|  |  


 a| 
* NAS ファイルセキュリティトレース（権限をトラブルシューティングするためにファイルアクセスをトレースする）
* ログインバナーの設定（ログイン時に表示されるバナー）
* MetroCluster の設定
* ロギングレベル（クラスタで実行されるロギングのレベルを調整）
* SAML の設定
* オンボードキーマネージャ
* NVMe サブシステム
* アグリゲートの自動プロビジョニングと容量の自動拡張
* ONTAP イメージのアップロード用の REST API のサポート
* ポートの自動配置
* SnapMirror のリストアと逆再同期

 a| 
* ディスク割り当て
* FabricPool の機能拡張（階層化ポリシーとオブジェクトタギング）
* クラスタへのノードの追加
* n+2 ONTAP リリースへの直接の無停止アップグレード（ 2 年間のウィンドウ）
* プロトコルごとのパフォーマンスビュー
* S3 プロトコルの管理
* 同じボリューム内に複数の LUN がある
* 複数の LUN を移動
* シングルクリックファームウェアアップデート
* SnapMirror によるビジネス継続性のサポート
* ストレージ効率化ポリシー
* ボリューム管理の機能拡張


|===
次の図は、 MetroCluster およびシングルクリックファームウェアのアップデートを示しています。

image:ontap98fo_image14.png["エラー：グラフィックイメージがありません"]



== REST API の機能拡張

ONTAP 9.6 で追加された REST API をサポートすることで、ストレージ管理者は、 CLI や GUI を操作しなくても、自動化スクリプトで ONTAP ストレージに対する業界標準の API 呼び出しを利用できます。

REST API のドキュメントとサンプルは System Manager で入手できます。Webブラウザからクラスタ管理インターフェイスに移動して、を追加するだけです `docs/api` をアドレスに（HTTPSを使用）

例：

`https://cluster/docs/api`

このページには、使用可能な REST API の対話型の用語集や、独自の REST API クエリを生成するためのメソッドが用意されています。

image:ontap98fo_image15.png["エラー：グラフィックイメージがありません"]

ONTAP 9.8 では、追加したバージョンの REST API にアノテーションが付けられるようになりました。これにより、スクリプトを複数のバージョンの ONTAP 間で常に作業できるようになります。

image:ontap98fo_image16.png["エラー：グラフィックイメージがありません"]

次の表は、 ONTAP 9.8 の新しい REST API の一覧です。

|===
|  |  


 a| 
* クラスタ * ファームウェア履歴 * クラスタライセンス–容量プール * クラスタライセンス–ライセンスマネージャー * ノードメトリック * ソフトウェア・イメージ・アップロード * MetroCluster * メディエーター * 診断 * 管理 / 作成 * DR グループ * インターコネクト * ノード * 操作 * ネットワーク * イーサネットポートメトリック * スイッチポート情報 * スイッチ 情報 * FC インターフェイスメトリック * BGP ピアグループ * IP インターフェイスメトリック * LIF サービスポリシー * SAN * NVMe メトリック
| * セキュリティ * * FIPS モード有効 / 無効 * データ暗号化有効 / 無効 * Azure キーボールト * Google GCP KMS * IP Sec* ストレージ * ファイルのコピー / 移動 * NetApp FlexCache ® パッチ / 変更 * 監視対象ファイル * Snapshot ポリシー * ストレージ効率化ポリシー * ファイルとディレクトリの管理（非同期削除、 QoS 、ファイルシステム分析） * NAS * 監査ログ・リダイレクト * CIFS セッション * ファイル・アクセス・トレース / セキュリティ・トレース * 管理 * イベント・修復 * Object Store / S3 * S3 バケット管理 * S3 グループ * S3 ポリシー 
|===
ONTAP 9.8 での System Manager の更新の詳細については、を参照してください https://soundcloud.com/techontap_podcast/episode-266-netapp-system-manager-98["Tech OnTap ポッドキャストエピソード 266 ： 『NetApp ONTAP System Manager 9.8』"^]。



== アップグレードと機器更改の強化– ONTAP 9.8

従来、 ONTAP のアップグレードは、システムを停止することなく実行するには、 1 つまたは 2 つのメジャーリリース内で実行する必要がありました。ストレージ管理者が頻繁にアップグレードしないと、 ONTAP のアップグレードに時間がかかると大きな悩みやロジスティクス面での問題になります。メンテナンス時間内に何度もアップグレードおよび再起動を行いたいとお考えですか？

ONTAP 9.8 では、 2 年以内の ONTAP リリースへのアップグレードがサポートされるようになりました。つまり、 9.6 から 9.8 にアップグレードする場合は、 ONTAP 9.7 に移動しなくても直接アップグレードできます。

次の表に、 NetApp ONTAP のバージョンのアップグレードを示します。

|===
| 開始点（ Starting Point ） | 直接アップグレード先： 


| ONTAP 9.6 | ONTAP 9.7 、 ONTAP 9.8 


| ONTAP 9.7 | ONTAP 9.8 、 ONTAP 9.n+2 


| ONTAP 9.8 | ONTAP 9.n+1 、 ONTAP 9.n+2 
|===
このシンプルなアップグレードプロセスにより、ヘッドのアップグレードも合理化されます。新しいハードウェアノードの出荷時に、最新の ONTAP リリースがインストールされています。以前は、既存のクラスタで古い ONTAP リリースを実行していた場合は、既存のノードを新しいノードと同じバージョンの ONTAP にアップグレードするか、新しいノードを古い ONTAP リリースにダウングレードする必要がありました。さらに複雑な作業として、新しいハードウェアをダウングレードできなかった場合、既存のクラスタをアップグレードするためにメンテナンス期間を余儀なくされました。

ONTAP 9.8 の 2 年バージョンが混在したウィンドウでは、新しいバージョンの ONTAP を実行している新しいノードをクラスタに追加し、 9.8 を実行しているノードからより新しいバージョンの ONTAP にボリュームを移動してコントローラを更新できるようになりました。また、無停止でのアグリゲート再配置アップグレード処理により、 ONTAP 9.8 を実行する必要があるシステム（ 8000 シリーズシステムなど）を、 ONTAP の新しいリリースで導入された新しいモデルにコントローラをアップグレードできます。

ONTAP クラスタに異なるバージョンが混在する状態を推奨します。

image:ontap98fo_image17.png["エラー：グラフィックイメージがありません"]

また、クラスタのアップグレードもこのプロセスの対象となり、 HA ペア全体をクラスタからスワップアウトできます。ONTAP 9.8 の 2 年間の改訂期間と無停止でのボリューム移動により、これが可能になりました。

基本的な手順は次のとおりです。

. 2 年間のウィンドウで、 ONTAP バージョンを使用して新しいシステムを既存のクラスタに接続します。
. 無停止ボリューム移動を使用してノードを退避します。
. クラスタから古いノードを分離


image:ontap98fo_image18.png["エラー：グラフィックイメージがありません"]

link:ontap98fo_data_protocols.html["次の例：データプロトコル"]
